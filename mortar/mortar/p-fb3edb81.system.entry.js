System.register(["./p-bf92d080.system.js"],(function(e){"use strict";var t,a,n;return{setters:[function(e){t=e.r;a=e.c;n=e.h}],execute:function(){var i=e("mortar_datepicker",function(){function e(e){var n=this;t(this,e);this.label="";this.error="";this.haserror=false;this.open=false;this.min=new Date(1900,0,1);this.max=new Date(2100,11,31);this.dateToString=function(e){if(!e)return"";var t=e.getMonth()+1;var a=t>=10?t:"0"+t;var n=e.getDate();var i=n>=10?n:"0"+n;return a+"/"+i+"/"+e.getFullYear()};this.valueString="";this.mask="Date";this.required=true;this.disabled=false;this.placeholder="mm/dd/yyyy";this.name="";this.header=true;this.handleOpen=function(){n.open=!n.open};this.handleSelect=function(e){n.value=e.detail;n.selectDate.emit(e.detail)};this.handleClear=function(){n.value=null;n.open=false;n.clearDate.emit();n.setToggleFocus()};this.handleCalendarRef=function(e){n.calendarElement=e};this.handleToggleRef=function(e){n.toggleElement=e};this.handleClickDate=function(){n.open=false};this.handleKeyboardSelect=function(){n.open=false;n.setToggleFocus()};this.handleKeyboardExit=function(){n.open=false;n.setToggleFocus()};this.setToggleFocus=function(){var e=n.toggleElement;setTimeout((function(){e.focus()}),10)};this.handleBlur=function(e){var t=n.valueString;n.valueString=e.detail;setTimeout((function(){n.updateValueFromInput(e.detail,t)}),10)};this.updateValueFromInput=function(e,t){if(e){var a=e.split("/").map((function(e){if(e){if(Number(e)){return e}else if(Number(e.slice(1))){return e.slice(1)}else if(Number(e.slice(0,-1))){return e.slice(0,-1)}else{return e}}return e})).join("/");var i=new Date(a);if(i.getTime()&&i>n.min&&i<n.max){n.valueString=n.dateToString(i);n.value=i;n.selectDate.emit(i)}else{n.valueString=t}}};this.selectDate=a(this,"selectDate",7);this.clearDate=a(this,"clearDate",7);this.inputChange=a(this,"inputChange",7);this.dateOutOfRange=a(this,"dateOutOfRange",7)}e.prototype.handleOutsideClick=function(e){if(this.open){if(!(e.target===this.toggleElement||this.toggleElement.contains(e.target))&&!(e.target===this.calendarElement||this.calendarElement.contains(e.target))){this.open=false}}};e.prototype.componentWillLoad=function(){if(this.value){this.valueString=this.dateToString(this.value)}};e.prototype.handleValue=function(e){this.valueString=this.dateToString(e)};e.prototype.render=function(){return n("mortar-form-element",{label:this.label,haserror:this.haserror,error:this.error,elementclass:"datepicker",name:this.name},n("div",{class:"datepicker-outer"},n("div",{class:"datepicker-inner"},n("masked-input",{placeholder:this.placeholder,value:this.valueString,elementclass:"datepicker-input",type:this.mask,onMaskedBlur:this.handleBlur,pattern:"[0-9]*",inputmode:"numeric",name:this.name}),n("button",{class:"datepicker-toggle",onClick:this.handleOpen,ref:this.handleToggleRef},n("mortar-icon",{kind:"calendar"}))),n("mortar-datepicker-calendar",{ref:this.handleCalendarRef,minDate:this.min,maxDate:this.max,onSelectDate:this.handleSelect,onClearDate:this.handleClear,onClickDate:this.handleClickDate,onKeyboardSelect:this.handleKeyboardSelect,onKeyboardExit:this.handleKeyboardExit,selected:this.value,open:this.open,header:this.header})))};Object.defineProperty(e,"watchers",{get:function(){return{value:["handleValue"]}},enumerable:true,configurable:true});return e}())}}}));